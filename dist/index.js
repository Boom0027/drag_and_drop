!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=function(){function t(){this.events={}}return t.prototype.on=function(t,e){return this.events[t]?this.events[t].push(e):this.events[t]=[e],this.events[t].length-1},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return!!this.events[t]&&(this.events[t].forEach((function(t){return t.apply(void 0,e)})),!0)},t}(),o=function(){function t(t,e){this.template=e,this.host=t;var n=document.importNode(this.template.content,!0);this.element=n.firstElementChild}return t.prototype.render=function(t){t?this.host.insertBefore(this.element,t):this.host.insertAdjacentElement("beforeend",this.element)},t}();function i(t,e,n){var r=n.value;return{get:function(){return r.bind(this)}}}var c,l=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t,e,n,r){var o,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(c=(i<3?o(c):i>3?o(e,n,c):o(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},a=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.project=r,o.element.querySelector("h2").textContent=o.project.title,o.element.querySelector("h3").textContent=o.person,o.element.querySelector("p").textContent=o.project.description,o.addListeners(),o}return l(e,t),Object.defineProperty(e.prototype,"person",{get:function(){return 1===this.project.people?"1 person assigned":this.project.people+" people assigned"},enumerable:!0,configurable:!0}),e.prototype.dragStartHandler=function(t){t.dataTransfer.setData("text/plain",this.project.title),t.dataTransfer.effectAllowed="move"},e.prototype.addListeners=function(){this.element.addEventListener("dragstart",this.dragStartHandler)},u([i],e.prototype,"dragStartHandler",null),e}(o),p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t,e,n,r){var o,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(c=(i<3?o(c):i>3?o(e,n,c):o(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},f=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],c=0,l=i.length;c<l;c++,o++)r[o]=i[c];return r},d=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.type=o,i.list=[],i.transferEmitter=r,i.ul=i.element.querySelector("ul"),i.element.id=o+"-projects",i.ul.id=o+"-projects-list",i.element.querySelector("h2").textContent=o.toUpperCase()+" PROJECTS",i}return p(e,t),Object.defineProperty(e.prototype,"projects",{get:function(){return this.list},set:function(t){var e=this,n={},r={},o=0;t.forEach((function(t,e){n[t.title]=e})),this.list.forEach((function(t,i){if(!n[t.title])return e.ul.removeChild(e.ul.children[i-o]),void(o+=1);r[t.title]=i-o})),t.forEach((function(t,n){void 0===r[t.title]?new a(e.ul,document.getElementById("single-project"),t).render(e.ul.children[n]):r[t.title]!==n&&e.ul.insertBefore(e.ul.children[r[t.title]],e.ul.children[n])})),this.list=t},enumerable:!0,configurable:!0}),e.prototype.dragOverHandler=function(t){t.dataTransfer&&"text/plain"===t.dataTransfer.types[0]&&(t.preventDefault(),this.ul.classList.add("droppable"))},e.prototype.dropHandler=function(t){try{var e=t.dataTransfer.getData("text/plain");if(this.projects.find((function(t){return t.title===e})))return;var n="finished";"finished"===this.type&&(n="active"),this.transferEmitter.emit(n+".taken",e)}catch(t){alert("Something went wrong")}},e.prototype.dragLeaveHandler=function(t){this.ul.classList.remove("droppable")},e.prototype.droppedEventHandler=function(t){this.projects=f([t],this.projects)},e.prototype.takenEventHandler=function(t){var e=this,n="finished";"finished"===this.type&&(n="active"),this.projects=this.projects.filter((function(r){return r.title!==t||(e.transferEmitter.emit(n+".dropped",r),!1)}))},e.prototype.addListeners=function(){this.element.addEventListener("dragover",this.dragOverHandler),this.element.addEventListener("dragleave",this.dragLeaveHandler),this.element.addEventListener("drop",this.dropHandler),this.transferEmitter.on(this.type+".dropped",this.droppedEventHandler),this.transferEmitter.on(this.type+".taken",this.takenEventHandler)},s([i],e.prototype,"dragOverHandler",null),s([i],e.prototype,"dropHandler",null),s([i],e.prototype,"dragLeaveHandler",null),s([i],e.prototype,"droppedEventHandler",null),s([i],e.prototype,"takenEventHandler",null),e}(o),h={};function v(t,e,n,r){var o;t in h?h[t][e]&&h[t][e].length>0?h[t][e].push({validator:r,name:n}):h[t][e]=[{validator:r,name:n}]:h[t]=((o={})[e]=[{validator:r,name:n}],o)}function y(t,e){v(t.constructor.name,e,"required",(function(t){return!!t}))}function m(t,e){v(t.constructor.name,e,"positive number",(function(t){return"number"==typeof t&&t>0}))}function g(t){return function(e,n){v(e.constructor.name,n,"min length",(function(e){return e.length>=t}))}}function j(t){return function(e,n){v(e.constructor.name,n,"max length",(function(e){return e.length<=t}))}}var b=function(t,e,n,r){var o,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(c=(i<3?o(c):i>3?o(e,n,c):o(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},O=function(){function t(t,e,n){this.title="",this.description="",this.people=0,this.title=t,this.description=e,this.people=n}var e,n;return b([g(5),j(100),y],t.prototype,"title",void 0),b([g(10),j(255),y],t.prototype,"description",void 0),b([(n=10,function(t,e){v(t.constructor.name,e,"max",(function(t){return t<=n}))}),(e=2,function(t,n){v(t.constructor.name,n,"min",(function(t){return t>=e}))}),m,y],t.prototype,"people",void 0),t}(),E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(t,e,n,r){var o,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(c=(i<3?o(c):i>3?o(e,n,c):o(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},w=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],c=0,l=i.length;c<l;c++,o++)r[o]=i[c];return r},P=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.title=o.element.querySelector("#title"),o.description=o.element.querySelector("#description"),o.people=o.element.querySelector("#people"),o.projectList=r,o}return E(e,t),e.prototype.getUserInput=function(){var t=this.title.value.trim(),e=this.description.value.trim(),n=this.people.value.trim(),r=new O(t,e,+n);if(function(t){var e=t.constructor.name;if(!h[e])return{valid:!0,details:[]};var n={valid:!0,details:[]};return Object.keys(t).forEach((function(r){var o={prop:r,invalid:[]};n.details.push(o),h[e][r]&&h[e][r].forEach((function(e){e.validator(t[r])||(n.valid=!1,o.invalid.push(e.name))}))})),n}(r).valid)return r;throw new Error("Invalid Input")},e.prototype.clearInputs=function(){this.title.value="",this.description.value="",this.people.value=""},e.prototype.submitForm=function(t){t.preventDefault();try{var e=this.getUserInput();this.projectList.projects=w([e],this.projectList.projects),this.clearInputs()}catch(t){console.log(t)}},e.prototype.addListeners=function(){this.element.addEventListener("submit",this.submitForm)},_([i],e.prototype,"submitForm",null),e}(o),L=document.getElementById("app"),H=new r,S=new d(L,document.getElementById("project-list"),H,"active"),x=new P(L,document.getElementById("project-input"),S),R=new d(L,document.getElementById("project-list"),H,"finished");x.addListeners(),S.addListeners(),R.addListeners(),x.render(),S.render(),R.render()}]);